{% extends "base.html" %}
{% load i18n %}
{% block title %} - Login{% endblock %}
{% block content %}

<main class="main justify-content-center align-items-center">
  <div class="wrapper mt-4">
    <div class="row justify-content-center">
      <div class="col-md-8 mx-auto">
        <article class="no-border-card card mb-4">
          <header class="card-header text-center">
            <h1 class="card-title fs-2">Login</h1>
          </header>
          <div class="card-body">
            <p>
              Welcome back to Parenting in Munich. To leave a comment or like a
              post, please log in. If you have not created an account yet, then
              <a class="link" href="{{ signup_url }}">sign up</a>
              first.
            </p>
            <form
              class="login"
              method="POST"
              action="{% url 'account_login' %}"
            >
              {% csrf_token %}
              <!-- Handle non-field errors -->
              {% if form.non_field_errors %}
              <div class="mb-2 text-danger">{{ form.non_field_errors }}</div>
              {% endif %}

              <!-- To show the fields on the form generated by django-allauth so the content can be styled and personalized  -->
              {% for field in form %}
              <div class="mb-2">
                <!-- Username field with errors -->
                <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                <div class="mb-1">{{ field }}</div>
                {% if field.errors %}
                <div class="my-1 text-danger">{{ field.errors }}</div>
                {% endif %}
              </div>
              {% endfor %}
              {% if redirect_field_value %}
              <input
                type="hidden"
                name="{{ redirect_field_name }}"
                value="{{ redirect_field_value }}"
              />
              {% endif %}
              <div class="text-center mt-3">
                <button class="mt-3 btn btn-secondary px-4" type="submit">
                    Login
                </button>
              </div>
            </form>
            <div class="mt-3">
              <p>
                {% trans "Forgot your password? Please use our" %}
                <a href="{% url 'about' %}">{% trans "contact form" %}</a> 
                {% trans "and we'll assist you as soon as possible." %}
              </p>
            </div>
          </div>
        </article>
        <!-- /.card -->
      </div>
    </div>
  </div>
</main>
{% endblock %}
